(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2989],{79184:function(e,t,n){"use strict";n.r(t);var r=n(67294),o=n(21608),s=n(31555),a=n(93680),c=n(88143),i=n(85893);t.default=function(e){var t=(0,r.useState)(!1),n=t[0],u=t[1],l=(0,r.useState)({}),d=l[0],h=l[1],f=e.pullRequests;return(0,i.jsxs)("div",{children:[(0,i.jsx)(o.Z,{children:(0,i.jsxs)(s.Z,{xs:12,children:[(0,i.jsxs)(o.Z,{style:{marginBottom:"10px"},children:[(0,i.jsx)(s.Z,{xs:3,style:{fontWeight:"bold"},children:"Title"}),(0,i.jsx)(s.Z,{xs:3,style:{fontWeight:"bold"},children:"Created On"}),(0,i.jsx)(s.Z,{xs:3,style:{fontWeight:"bold"},children:"Merged On"}),(0,i.jsx)(s.Z,{xs:3})]}),f&&f.map((function(e){return(0,i.jsxs)(o.Z,{style:{marginBottom:"10px"},children:[(0,i.jsx)(s.Z,{xs:3,children:e.title}),(0,i.jsx)(s.Z,{xs:3,children:e.created_at}),(0,i.jsx)(s.Z,{xs:3,children:e.closed_at}),(0,i.jsx)(s.Z,{xs:3,children:(0,i.jsx)(a.Z,{variant:"info",onClick:function(){return function(e){h(e),u(!0)}(e)},children:"More Info..."})})]},e.id)}))]})}),(0,i.jsx)(c.default,{pr:d,show:n,onHide:function(){return u(!1)}})]})}},45339:function(e,t,n){"use strict";n.r(t);n(67294);var r=n(21608),o=n(31555),s=n(93680),a=n(85893);t.default=function(e){var t=e.userRepos,n=e.onPullRequestsClick;return(0,a.jsx)("div",{children:(0,a.jsx)(r.Z,{children:(0,a.jsxs)(o.Z,{xs:12,children:[(0,a.jsxs)(r.Z,{style:{marginBottom:"10px"},children:[(0,a.jsx)(o.Z,{xs:3,style:{fontWeight:"bold"},children:"Name"}),(0,a.jsx)(o.Z,{xs:3,style:{fontWeight:"bold"},children:"Owner"}),(0,a.jsx)(o.Z,{xs:3,style:{fontWeight:"bold"},children:"Url"}),(0,a.jsx)(o.Z,{xs:3})]}),t&&t.map((function(e){return(0,a.jsxs)(r.Z,{style:{marginBottom:"10px"},children:[(0,a.jsx)(o.Z,{xs:3,children:e.name}),(0,a.jsx)(o.Z,{xs:3,children:e.owner.login}),(0,a.jsx)(o.Z,{xs:3,children:e.html_url}),(0,a.jsx)(o.Z,{xs:3,children:(0,a.jsx)(s.Z,{onClick:function(){return n(e.name,e.full_name,e.owner.login)},variant:"info",children:"Pull Requests"})})]},e.full_name)}))]})})})}},80858:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(59499),o=n(50029);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,s=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);a=!0);}catch(i){c=!0,o=i}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=n(87794),i=n.n(c),u=n(9669),l=n.n(u),d=n(11163),h=n(67294),f=n(10682),p=n(21608),x=n(31555),j=n(2914),v=n(93680),m=(n(48210),n(9008)),g=n(45339),Z=n(39550),y=n(50711),b=n(79184),w=n(270),k=n(92987),_=n(27531),S=n(85893);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(){var e=a(h.useState({login:void 0,authToken:void 0,githubUsername:void 0,walletAddress:void 0}),2),t=e[0],n=e[1],r=a(h.useState([]),2),s=r[0],c=r[1],u=a(h.useState([]),2),O=u[0],E=u[1],C=a(h.useState("repos"),2),P=C[0],T=C[1],A=a(h.useState(!1),2),N=A[0],U=A[1],q=a(h.useState(""),2),I=q[0],L=q[1],H=a(h.useState(""),2),z=H[0],B=H[1],G=a(h.useState(""),2),D=G[0],W=G[1],M=a(h.useState(!1),2),X=M[0],F=M[1],$=a(h.useState(!1),2),J=$[0],K=$[1],Q=a(h.useState(""),2),V=Q[0],Y=Q[1],ee=(0,d.useRouter)().query.code,te=Math.random()*Number.MAX_SAFE_INTEGER,ne=100,re=_.v.SEARCH_REPOSITORIES_URL,oe=_.v.AUTHORIZE_URL,se=_.v.CLIENT_ID,ae=_.v.REDIRECT_URL,ce=_.v.USER_API_URL,ie=_.v.USER_REPOS_URL,ue=_.v.LOCAL_GITHUB_AUTH_URL,le=function(){var e=(0,o.Z)(i().mark((function e(n,r,o){var s,a,u,d,h,f=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=f.length>3&&void 0!==f[3]?f[3]:1,c([]),T("pull-requests"),U(!1),F(!0),a="".concat(o?"".concat(o," "):"","is:pr ").concat("all"!==n&&n?"base:".concat(n):""," is:closed repo:").concat(r," author:").concat(t.login),u="https://api.github.com/search/issues?q=".concat(a,"&page=").concat(s,"&per_page=").concat(ne),d={Authorization:"token ".concat(t.authToken)},e.next=10,l().get(u,{headers:d});case 10:h=e.sent,E(h.data.items),F(!1);case 13:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),de=function(){var e=(0,o.Z)(i().mark((function e(t,n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(r),B(t),W(n),U(!0);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),he=function(){var e=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,Y(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=(0,o.Z)(i().mark((function e(){var n,r,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E([]),T("repos"),F(!0),K(!1),n="".concat(V," in:name,description"),r="".concat(re,"?q=").concat(n,"&per_page=").concat(ne),o={Authorization:"token ".concat(t.authToken)},e.next=9,l().get(r,{headers:o});case 9:s=e.sent,c(s.data.items),F(!1),K(!0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();h.useEffect((function(){(function(){var e=(0,o.Z)(i().mark((function e(){var r,o,s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===ee){e.next=17;break}return F(!0),e.next=4,l().get(ue.replace("${code}",ee));case 4:if(!((r=e.sent).data.token.indexOf("expired")>=0)){e.next=10;break}F(!1),window.location.href="".concat(oe,"?client_id=").concat(se,"&state=").concat(te,"&redirect_uri=").concat(ae),e.next=17;break;case 10:return o=r.data.token.split("=")[1].split("&")[0],e.next=13,l().get("".concat(ce),{headers:{Authorization:"token ".concat(o)}});case 13:s=e.sent,a={login:s.data.login,githubUsername:s.data.login,authToken:o},n(R(R({},t),a)),F(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[ee]);var pe=(0,k.Os)();(0,h.useEffect)((function(){console.log("Use effect in github/index called");var e={walletAddress:pe.account};n(R(R({},t),e))}),[pe]);var xe=function(){var e=(0,o.Z)(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.authToken){e.next=11;break}return E([]),T("repos"),F(!0),K(!1),e.next=7,l().get("".concat(ie,"?page=").concat(n,"&per_page=").concat(ne),{headers:{Authorization:"token ".concat(t.authToken)}});case 7:r=e.sent,c(r.data),F(!1),K(!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return h.useEffect((function(){xe(1)}),[t.authToken]),(0,S.jsxs)("div",{className:"container",children:[(0,S.jsxs)(m.default,{children:[(0,S.jsx)("title",{children:"Proof of Pull Request"}),(0,S.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,S.jsxs)(f.Z,{className:"p-3",children:[(0,S.jsxs)(f.Z,{className:"p-3",children:[(0,S.jsx)(w.default,{}),"repos"===P&&(0,S.jsxs)(p.Z,{style:{marginBottom:"15px",marginTop:"15px"},children:[(0,S.jsx)(x.Z,{xs:9,children:(0,S.jsx)(j.Z.Group,{children:(0,S.jsx)(j.Z.Control,{size:"lg",type:"text",placeholder:"Not listed? Search",onChange:he,disabled:!J})})}),(0,S.jsx)(x.Z,{xs:3,children:(0,S.jsx)(v.Z,{onClick:function(){return fe()},variant:"primary",children:"Search"})})]})]}),(0,S.jsx)(p.Z,{children:X&&(0,S.jsx)("div",{className:"text-center",children:(0,S.jsx)("div",{className:"spinner-border",role:"status",style:{width:"6rem",height:"6rem"}})})}),(0,S.jsxs)(y.Ho,{auth:t,children:["repos"===P&&(0,S.jsx)(g.default,{userRepos:s,onPullRequestsClick:de}),"pull-requests"===P&&(0,S.jsx)(b.default,{pullRequests:O}),(0,S.jsx)(Z.default,{owner:I,repo:z,fullRepoName:D,show:N,onHide:function(){return U(!1)},onGetPullRequestsClick:le})]})]})]})}},39550:function(e,t,n){"use strict";n.r(t);var r=n(50029),o=n(87794),s=n.n(o),a=n(9669),c=n.n(a),i=n(67294),u=n(42699),l=n(2914),d=n(93680),h=n(50711),f=n(27531),p=n(85893);t.default=function(e){var t=(0,h.Eu)(),n=e.owner,o=e.repo,a=e.onGetPullRequestsClick,x=e.fullRepoName,j=(0,i.useState)([]),v=j[0],m=j[1],g=(0,i.useState)(void 0),Z=g[0],y=g[1],b=(0,i.useState)(void 0),w=b[0],k=b[1],_=f.v.REPOS_URL;return(0,i.useEffect)((function(){var e=function(){var e=(0,r.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat(_,"/").concat(n,"/").concat(o,"/branches?page=1&per_page=100"),{headers:{Authorization:"token ".concat(t.authToken)}});case 2:r=e.sent,m(r.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.authToken&&n&&o&&e()}),[n,o]),(0,p.jsxs)(u.Z,{show:e.show,onHide:e.onHide,centered:!0,children:[(0,p.jsx)(u.Z.Header,{closeButton:!0,children:(0,p.jsx)(u.Z.Title,{id:"contained-modal-title-vcenter",children:"Select Branch"})}),(0,p.jsx)(u.Z.Body,{children:(0,p.jsxs)(l.Z,{children:[(0,p.jsxs)(l.Z.Select,{size:"lg",onChange:function(e){return y(e.target.value)},children:[(0,p.jsx)("option",{value:"all",children:"All"}),v.map((function(e){return(0,p.jsx)("option",{value:e.name,children:e.name},e.name)}))]}),(0,p.jsx)("hr",{}),(0,p.jsxs)(l.Z.Group,{children:[(0,p.jsx)(l.Z.Label,{children:"Not Listed? Enter the name below"}),(0,p.jsx)(l.Z.Control,{size:"lg",type:"text",placeholder:"enter name of branch",onChange:function(e){return y(e.target.value)}})]}),(0,p.jsx)("hr",{}),(0,p.jsxs)(l.Z.Group,{children:[(0,p.jsx)(l.Z.Label,{children:"Enter one or more keywords"}),(0,p.jsx)(l.Z.Control,{size:"lg",type:"text",placeholder:"enter keywords",onChange:function(e){return k(e.target.value)}}),(0,p.jsx)("span",{style:{fontStyle:"italic",fontSize:"smaller"},children:"keywords make search results more tailored."})]}),(0,p.jsx)("hr",{}),(0,p.jsx)(d.Z,{variant:"success",onClick:function(){return a(Z,x,w)},children:"Get Pull Requests"})]})}),(0,p.jsx)(u.Z.Footer,{children:(0,p.jsx)(d.Z,{onClick:e.onHide,children:"Close"})})]})}},12386:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/github",function(){return n(80858)}])},11163:function(e,t,n){e.exports=n(69898)}},function(e){e.O(0,[9774,3714,2095,6293,8719,4451,9032,646,3048,8681,310,3245,6431,2888,179],(function(){return t=12386,e(e.s=t);var t}));var t=e.O();_N_E=t}]);